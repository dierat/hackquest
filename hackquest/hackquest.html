<head>
  <title>hackquest</title>
  <link href='http://fonts.googleapis.com/css?family=Press+Start+2P' rel='stylesheet' type='text/css'>
</head>

<body>
 {{> main}}
</body>



<template name="main">
  <header>
    <!-- index 0 -->
    <audio volume="0.1" loop><source src="ff4.mp3" type="audio/mpeg"/></audio>
    <!-- index 1 -->
    <audio volume="1.0"><source src="typing.wav" type="audio/wav"/></audio>
    <!-- index 2 -->
    <audio volume="1.0"><source src="growling.wav" type="audio/wav"/></audio>
    <!-- index 3 -->
    <audio volume="1.0"><source src="laughing.wav" type="audio/wav"/></audio>
    <h1>HACK QUEST</h1>
    {{#if currentUser}} 
      <button class="newGame">New Game</button>
      <div class="headerLogin">
        {{> loginButtons}}
      </div>
    {{/if}}
  </header>

  {{#unless currentUser}}
    {{> loginScreen}}
  {{else}}
    {{#if currentGame}}
      {{> gameScreen}}
    {{else}}
      {{> blankScreen}}
    {{/if}}
  {{/unless}}
</template>



<template name="loginScreen">
  <div class="blankScreen">
    <p>Welcome to HackQuest where you can battle the evil technologies of web development!</p>
    <p>Create an account to start playing!</p>
  </div>
  <div class="mainLogin">
    {{> loginButtons align="right"}}
  </div>
</template>


<template name="blankScreen">
  <div class="blankScreen">
    <p>You're in!</p>
    <p>Hit the 'New Game' button to start!</p>
  </div>
</template>



<template name="gameScreen">
  <div class="battle">
    <div class="monsters">
      <div class="monster">
        <img src={{monster.icon}}>
      </div>
    </div>

    <div class="vs">VS</div>

    <div class="characters">
      {{#each characters}}
        <p>
          <div class="character {{isActive}}">
            <div class="characterImage">
              <img src={{this.icon}}>
            </div>
            <div class="characterInfo">
              <p>NAME: {{this.name}}</p>
              <p>STAM: {{this.stam}}</p>
            </div>
          </div>
        </p>
      {{/each}}
    </div>
  </div>

  <div class="console">
    {{#each messages}}
      <p>{{this}}</p>
    {{/each}}

    {{#if playerTurn}}
      <p>Please choose an action:</p>
      <ul>
        <li class="action code">code</li>
        <li class="action google">google fu</li>
        <li class="action giphy">giphy</li>
      </ul>
    {{/if}}
  </div>

</template>
